{"ast":null,"code":"var _jsxFileName = \"D:\\\\2022\\\\mern-notes-app\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\n//import logo from './logo.svg';\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Login from './pages/Login'; //import PublicRoute from './components/PublicRoute';\n//import ProtectedRoutes from './components/ProtectedRoutes';\n\nimport Notes from 'src\\components\\notes\\Notes';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    const checkLogin = async () => {\n      const token = localStorage.getItem('tokenStore');\n\n      if (token) {\n        const verified = await axios.get('/users/verify', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        console.log('verified====>', verified);\n        setIsLoading(verified.data);\n        if (verified.data === false) return localStorage.clear();\n      } else {\n        setIsLoading(false);\n      }\n    };\n\n    checkLogin();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: isLoading ? /*#__PURE__*/_jsxDEV(Notes, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Login, {\n      setIsLoading: setIsLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 29\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 3\n  }, this);\n}\n\n_s(App, \"DlrQjwOD5XS1kcZJvMHoaf7KaZ8=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["axios","useEffect","useState","BrowserRouter","Routes","Route","Login","Notes","App","isLoading","setIsLoading","checkLogin","token","localStorage","getItem","verified","get","headers","Authorization","console","log","data","clear"],"sources":["D:/2022/mern-notes-app/client/src/App.js"],"sourcesContent":["//import logo from './logo.svg';\n\nimport axios from 'axios';\nimport { useEffect, useState } from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\n\nimport Login from './pages/Login';\n\n\n//import PublicRoute from './components/PublicRoute';\n//import ProtectedRoutes from './components/ProtectedRoutes';\nimport Notes from 'src\\components\\notes\\Notes';\n\nfunction App() {\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tuseEffect(() => {\n\t\tconst checkLogin = async () => {\n\t\t\tconst token = localStorage.getItem('tokenStore');\n\n\t\t\tif (token) {\n\t\t\t\tconst verified = await axios.get('/users/verify', {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${token}`,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t\tconsole.log('verified====>', verified);\n\t\t\t\tsetIsLoading(verified.data);\n\n\t\t\t\tif (verified.data === false) return localStorage.clear();\n\t\t\t} else {\n\t\t\t\tsetIsLoading(false);\n\t\t\t}\n\t\t};\n\n\t\tcheckLogin();\n\t}, []);\n\n\treturn (\n\t\t<div>\n\t\t\t{isLoading ? <Notes /> : <Login setIsLoading={setIsLoading} />}\n\t\t</div>\n\t);\n}\n\nexport default App;\n"],"mappings":";;;AAAA;AAEA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,aAAT,EAAwBC,MAAxB,EAAgCC,KAAhC,QAA6C,kBAA7C;AAEA,OAAOC,KAAP,MAAkB,eAAlB,C,CAGA;AACA;;AACA,OAAOC,KAAP,MAAkB,4BAAlB;;;AAEA,SAASC,GAAT,GAAe;EAAA;;EACd,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,KAAD,CAA1C;EAEAD,SAAS,CAAC,MAAM;IACf,MAAMU,UAAU,GAAG,YAAY;MAC9B,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CAAd;;MAEA,IAAIF,KAAJ,EAAW;QACV,MAAMG,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAN,CAAU,eAAV,EAA2B;UACjDC,OAAO,EAAE;YACRC,aAAa,EAAG,UAASN,KAAM;UADvB;QADwC,CAA3B,CAAvB;QAKAO,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BL,QAA7B;QACAL,YAAY,CAACK,QAAQ,CAACM,IAAV,CAAZ;QAEA,IAAIN,QAAQ,CAACM,IAAT,KAAkB,KAAtB,EAA6B,OAAOR,YAAY,CAACS,KAAb,EAAP;MAC7B,CAVD,MAUO;QACNZ,YAAY,CAAC,KAAD,CAAZ;MACA;IACD,CAhBD;;IAkBAC,UAAU;EACV,CApBQ,EAoBN,EApBM,CAAT;EAsBA,oBACC;IAAA,UACEF,SAAS,gBAAG,QAAC,KAAD;MAAA;MAAA;MAAA;IAAA,QAAH,gBAAe,QAAC,KAAD;MAAO,YAAY,EAAEC;IAArB;MAAA;MAAA;MAAA;IAAA;EAD1B;IAAA;IAAA;IAAA;EAAA,QADD;AAKA;;GA9BQF,G;;KAAAA,G;AAgCT,eAAeA,GAAf"},"metadata":{},"sourceType":"module"}